from enum import Enum
from typing import Optional
from pydantic import BaseModel

class ModelName(str, Enum):
    GROQ_PLTF = "groq/compound"
    LLAMA3_1_8B = "llama-3.1-8b-instant"
    LLAMA3_3_70B = "llama-3.3-70b-versatile"
    GEMMA2_9B = "gemma2-9b-it"
    DEEPSEEK_R1_70B = "deepseek-r1-distill-llama-70b"
    QWEN3_32B = "qwen/qwen3-32b"
    MOONSHOT_KIMI_K2 = "moonshotai/kimi-k2-instruct"


class ModelInfo:
    def __init__(self, role: str, speed: str, quality: str, notes: Optional[str] = None):
        self.role = role          # –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –º–æ–¥–µ–ª–∏
        self.speed = speed        # —Å–∫–æ—Ä–æ—Å—Ç—å (–∏–∫–æ–Ω–∫–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏)
        self.quality = quality    # –∫–∞—á–µ—Å—Ç–≤–æ
        self.notes = notes or ""  # –¥–æ–ø. –æ–ø–∏—Å–∞–Ω–∏–µ


MODEL_CONFIG: dict[ModelName, ModelInfo] = {
    ModelName.GROQ_PLTF: ModelInfo(
        "‚öôÔ∏è –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —á–∞—Ç –±–µ–∑ –ª–∏–º–∏—Ç–∞",
        "‚ö°",
        "—Å—Ä–µ–¥–Ω–µ–µ",
        "–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á, –¥–µ—à—ë–≤—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π. –ú–æ–∂–Ω–æ —é–∑–∞—Ç—å, –∫–æ–≥–¥–∞ –Ω–µ–≤–∞–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ, –∞ –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—Ç."
    ),
    ModelName.LLAMA3_1_8B: ModelInfo(
        "üí¨ –ë—ã—Å—Ç—Ä—ã–π —á–∞—Ç",
        "‚ö°‚ö°",
        "—Å—Ä–µ–¥–Ω–µ–µ",
        "–•–æ—Ä–æ—à–æ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤, –±—ã—Å—Ç—Ä—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤. –î–µ—à—ë–≤—ã–π, –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç, –Ω–æ –∏–Ω–æ–≥–¥–∞ —Ç—É–ø–∏—Ç."
    ),
    ModelName.LLAMA3_3_70B: ModelInfo(
        "üß† –ì–ª—É–±–æ–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç",
        "üê¢",
        "–º–∞–∫—Å–∏–º—É–º",
        "–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –∑–∞–¥–∞—á: —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è, —Å–ª–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã. –ú–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω–æ —É–º–Ω—ã–π."
    ),
    ModelName.GEMMA2_9B: ModelInfo(
        "üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞",
        "‚ö°",
        "–≤—ã—Å–æ–∫–æ–µ",
        "–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç–µ–π, –æ–ø–∏—Å–∞–Ω–∏–π, –ø–æ—Å—Ç–æ–≤. –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞."
    ),
    ModelName.DEEPSEEK_R1_70B: ModelInfo(
        "üë®‚Äçüíª –ö–æ–¥–∏–Ω–≥ / –ª–æ–≥–∏–∫–∞",
        "üê¢",
        "–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ",
        "–õ—É—á—à–∞—è –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á. –ú–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥ –∏ –æ–±—ä—è—Å–Ω—è—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã."
    ),
    ModelName.QWEN3_32B: ModelInfo(
        "üîß –ö–æ–¥ + –∞–Ω–∞–ª–∏—Ç–∏–∫–∞",
        "‚ö°",
        "–≤—ã—Å–æ–∫–æ–µ",
        "–¢–æ–∂–µ —Ö–æ—Ä–æ—à–∞ –≤ –∫–æ–¥–µ, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º DeepSeek. –ú–æ–∂–Ω–æ —é–∑–∞—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º."
    ),
    ModelName.MOONSHOT_KIMI_K2: ModelInfo(
        "üöÄ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã / reasoning",
        "‚ö°",
        "–≤—ã—Å–æ–∫–æ–µ",
        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å. –•–æ—Ä–æ—à–∞ –≤ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è—Ö, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞. –ú–æ–∂–Ω–æ –ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–ª—è –∏–¥–µ–π."
    ),
}


class AIRequest(BaseModel):
    model: ModelName
    message: str


def get_model_description() -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π"""
    text = "üìñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:\n\n"
    for model, info in MODEL_CONFIG.items():
        text += (
            f"**{model.value}**\n"
            f"–†–æ–ª—å: {info.role}\n"
            f"–°–∫–æ—Ä–æ—Å—Ç—å: {info.speed}\n"
            f"–ö–∞—á–µ—Å—Ç–≤–æ: {info.quality}\n"
            f"{info.notes}\n\n"
        )
    return text
